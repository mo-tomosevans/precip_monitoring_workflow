[imt]
prefix = 'imt_tmp'

[strings]
ENS_FNAME = "{forecast_reference_time}_{time}_{name}_{height}_{grid}_r{realization}.png"
DET_FNAME = "{forecast_reference_time}_{time}_{name}_{height}_{grid}.png"
OBS_FNAME = "{time}_{name}_{height}_{grid}.png"

[layout]
  [[colorbar]]
    ticklabel_padding_factor = 10
    default_orientation='vertical'

[style]
  [[plot kwargs]]
    [[[scatter]]]
      edgecolors="black"
    [[[contour]]]
      labels = True
    [[[quiver]]]
      color="black"

[data loading]
 realization regexes = '''[
    '.*prods_op_[a-z\-]*_(?:19|20)[0-9]{2}(?:0[1-9]|1[0-2])[0-3][0-9]_[0-9]{2}_(?P<member>[0-9]{2})_[0-9]{3}.pp$',
    '.*prodm_op_[a-z\-]*_(?:19|20)[0-9]{2}(?:0[1-9]|1[0-2])[0-3][0-9]_[0-9]{2}_(?P<member>[0-9]{2})_[0-9]{3}$',
    '.*enuk_um_(?P<member>[0-9]{3})/enukaa_pd[0-9]{3}.pp$'
 ]'''

[grid_settings]
 output format = '{:.9e}'

[miscellaneous common values]
  precip_rate_thresholds = [0.1, 1, 2, 4, 8, 16, 32, 64]
  [[precip amount thresholds]]
    # accumulation thresholds (mm) for a given period (integer hours)
    1=[0.1, 1, 4, 8, 16, 30]
    3=[0.1, 1, 4, 8, 16, 30, 50]
    6=[0.1, 1, 4, 5, 8, 10, 16, 20, 30, 40, 50, 75, 100]
    12=[0.1, 1, 4, 8, 16, 30, 50, 75, 100]
    24=[0.1, 1, 4, 8, 16, 30, 50, 75, 100]
  # alternate precip_amount_thresholds for winter: [0.1, 1, 2, 4, 8, 16]
  [[precip neighbourhood thresholds]]
    [[[9]]] # neighbourhood size (grid cells)
      [[[[9]]]] # smoothing kernel size (grid cells)
        # period (integer hours) = [accumulation thresholds (mm)]
        3=[1.0, 5.0, 10.0, 20.0, 30.0, 40.0, 50.0]
        6=[1.0, 5.0, 10.0, 20.0, 30.0, 40.0, 50.0]
      [[[[11]]]] # smoothing kernel size (grid cells)
        # period (integer hours) = [accumulation thresholds (mm)]
        3=[1.0, 5.0, 10.0, 20.0, 30.0, 40.0, 50.0]
        6=[1.0, 5.0, 10.0, 20.0, 30.0, 40.0, 50.0]


[metdb]
  [[LNDSYN]]
    [[[unit conversions]]]
      SRFC_AIR_TMPR= "kelvin"
      SRFC_WIND_SPED = "m s-1"
      SRFC_DEW_PONT_TMPR="kelvin"
      MSL_PESR= "pascals"
      SNOW_DPTH="m"
      HRZL_VSBLY="m"
      SRFC_GUST_STRT_PERD='minutes'
      SRFC_GUST_END_PERD='minutes'
      MXMM_SRFC_GUST='m s-1'
    [[[special types]]]
      [[[[MXMM_SRFC_GUST]]]]
        type='PeriodElement'
        [[[[[extra kwargs]]]]]
          offset_start_element="SRFC_GUST_STRT_PERD"
          offset_end_element="SRFC_GUST_END_PERD"
          required_period=1
          required_period_units="hours"
          [[[[[[time_cell_method]]]]]]
            method='maximum'
            coords='time'
            intervals='1 hour'
  [[LNDSYB]]
    [[[unit conversions]]]
      # CLOD_AMNT uses a lookup table for oktas or error codes
      #           see metdb documentation
      CLOD_AMNT='1'
      CLOD_BASE_HGHT='m'
      STTN_HGHT='m'
      TOTL_CLOD_AMNT= "%"
    [[[special types]]]
      [[[[CLOD_AMNT]]]]
        type='SimpleReplicatedElement'
        [[[[[extra kwargs]]]]]
          max_replications=4
      [[[[CLOD_BASE_HGHT]]]]
        type='SimpleReplicatedElement'
        [[[[[extra kwargs]]]]]
          max_replications=4
  [[SREW]]
    [[[unit conversions]]]
      Q1HOUR_PRCTN_AMNT='kg m-2'

[colorbars]
  [[HrlyRadarAccumCbar]]
  inherit = ['LabelSize10Mixin']
  colormap = ['#6baed6','#3182bd','#08519c','#31a354','y','#fd8d3c','#e31a1c','#df65b0','w']
  bounds=[0.01,0.25,0.50,1.,2.,4.,8.,16.,32.,64.]
  unit='mm'

  [[LowCloud]]
  colormap=['#202E78', '#9C110A', '#F9930A', '#F2BB16', '#F4F676', '#72F153', '#939991', '#848796', '#38EAF7']
  bounds=[0, 100, 200, 300, 500, 700, 1500, 2500, 5000]
  extend='both'

  [[GeopotentialHeight]]
  colormap='rainbow'
  bounds=[4500, 5000, 5150, 5250, 5350, 5450, 5500, 5650, 5750, 5850, 5950, 6000]
  extend='both'

  [[HighCloud]]
  colormap=["#FFFFFF", "#FF0000", "#FF7F00", "#FFBF7F", "#FFFF7F", "#7E007E", "#7E5F7E", "#FF00FF", "#C35FC3", "#FFBFFF", "#1EC31E", "#00FF7F", "#7FFF00", "#7FBF00", "#7E7E00", "#1BB21B", "#7E3F00", "#003F7E", "#0000FF", "#3FBFFF", "#00FFFF", "#BFBFBF", "#EEECEC"]
  bounds=[0, 1, 500, 1000, 1500, 2000, 2500, 3000, 3500, 4000, 4500, 5000, 6000, 7000, 8000, 9000, 10000, 15000, 20000, 25000, 30000, 35000, 40000, 60000]
  extend='both'

  [[GPPCloud]]
  colormap=['#ba2000', '#ff8200', '#fedf00', '#ffff7b', '#aeff34', '#e2e2e2', '#26c6e7', '#0b6af7', '#050df4']
  bounds=[0, 200, 300, 500, 700, 1500, 2500, 5000, 10000]
  extend='max'

  [[LightningFlashCbar]]
  colormap = ["#FFFFFF","#636363","#B5CAFF","#8FB3FF","#7F97FF","#ABCF63","#E8F59E","#FFFA14","#FFD121","#FFA30A"]
  bounds=[0.,1.,2.,3.,4.,5.,6.,7.,8.,9.,10.]

  [[MagentaBinaryCbar]]
  colormap = ["#FFFFFF", "m"]
  bounds=[0., 0.01, 1.]

  [[MOGreenBinaryCbar]]
  colormap = ["#C4E90C", "m"]
  bounds=[0., 0.01, 1.]

  [[CyanBinaryCbar]]
  colormap = ["#FFFFFF", "cyan"]
  bounds=[0., 0.01, 1.]

  [[BlackWhiteBinaryCbar]]
  colormap = ["black", "white"]
  bounds=[0., 0.01, 1.]

  [[UnitBlack]]
  colormap = ["black"]
  bounds=[0., 1.]

  [[UnitGrey]]
  colormap = ["#d9d9d9"]
  bounds=[0., 1.]

  [[UnitPurple]]
  colormap = ["purple"]
  bounds=[0., 1.]

  [[UnitAqua]]
  colormap = ["aqua"]
  bounds=[0., 1.]

  [[UnitMagenta]]
  colormap = ["m"]
  bounds=[0., 1.]

  [[UnitMOGreen]]
  colormap = ["#C4E90C"]
  bounds=[0., 1.]

  [[SbcapeCbar]]
  colormap = 'Spectral_r'
  bounds=[0.1, 10, 50, 100, 200, 500, 800, 1000, 1500, 2000, 2500, 3000]

  [[SbcinCbar]]
  colormap = 'Spectral'
  bounds=[-3000, -2500, -2000, -1500, -1000, -800, -500, -200, -100, -50, -10, -0.1]

  [[DewpointCbar]]
  colormap = 'Spectral_r'
  bounds=[0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20]

  [[SpecificHumid]]
  colormap = 'Spectral_r'
  bounds=['linspace:0..30..61']

  [[MesoPrecipitation]]
  colormap = ['#79b2e9', '#5193d4', '#2868bd', '#1fc91b', '#fff03a', '#ff9b00', '#ec321b', '#ff5dfb', '#7b0acc']
  bounds=[0.1,0.25,0.5,1,2,4,8,16,32,64]

  # original MesoPrecipitation settings
  # colormap = 'overplot_precip2.rgb'
  # colormap_subrange='range:131..149..2'
  # colormap = ['#79b2e9', '#5193d4', '#2868bd', '#1fc91b', '#fff03a', '#ff9b00', '#ec321b', '#ff5dfb', '#7b0acc']

  [[MesoRH]]
  colormap=['#250000', '#5c0000', '#930000', '#ca0000', '#ff0200', '#ff3a00', '#ff7100', '#ffa800', '#ffdf00', '#ffff26', '#c2e7b4', '#5fc1c0', '#1f93c0', '#234da0']
  bounds = [0,10.0,20.0,30.0,40.0,50.0,60.0,70.0,75.0,80.0,85.0,90.0,95.0,98.0,100]

  [[SnowDepth]]
  # Based on meso colours but double length
  colormap = 'overplot_precip2.rgb'
  bounds=[0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1.0,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2]
  colormap_subrange='range:129..149..1'

  [[MesoStandard]]
  colormap = 'afmhot'

  [[MSLP]]
  colormap = 'inferno'

  [[MSLPDiffs]]
  colormap = 'BrBG_r'
  bounds = ['linspace:-10..10..41']

  [[TenMWindCbar]]
  colormap = 'Spectral_r'
  bounds="""[0, 2.5, 5, 7.5, 10, 12.5, 15, 17.5, 20,
             22.5, 25, 27.5, 30]"""

  [[TenMWindCbarLow]]
  colormap = 'Spectral_r'
  bounds=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

  [[MesoWindKT]]
  colormap='meso_wind2.rgb'
  bounds=[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100]
  values=[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100]

  [[OEMWindKT]]
  colormap='oem_wind.rgb'
  bounds=[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100]
  values=[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100]

  [[ScreenTempCbar]]
  colormap = 'meso_screen_temperature.rgb'
  colormap_subrange='range:98..224..1'
  bounds = ['linspace:-12..34..47']
#   WINTER BOUNDS
#   bounds = '''['linspace:-12..0..13',
#               1.0,  1.5,  2.0,  2.5,  3.0,  3.5,  4.0,  4.5,  5.0,  5.5,  6.0,
#                6.5,  7. ,  7.5,  8. ,  8.5,  9. , 10. , 10.5, 11. , 11.5, 12. ,
# 	           12.5, 13. , 13.5, 14. , 14.5, 15. , 15.5, 16. , 16.5, 17. , 17.5]'''

  extend = 'both'

  [[ScreenTempDiffs]]
  colormap = 'BrBG_r'
  bounds = ['linspace:-10..10..41']

  [[MoxieProbability]]
  colormap = "moxie.ylrdbu"
  bounds = [0.0, 0.01, 0.1, 0.2, 0.4, 0.6, 0.8, 0.9, 0.99, 1.0]

  [[GPPVis]]
  colormap = ["#000000", "#9e5f98", "#ba2000", "#ff8200", "#fedf00", "#ffff7b", "#aeff34", "#e2e2e2", "#26c6e7", "#0b6af7", "#0746da", "#0000a1"]
  bounds=[0, 0.05, 0.2, 0.8, 1.6, 2.5, 3.7, 5, 8, 15, 25, 50, 100]

  [[MemberNum]]
  colormap='Spectral'
  bounds=['range:0..37']

  [[RedsFrac]]
  colormap='Reds'
  bounds=['linspace:0.1..1..10']
  colormap_subrange='range:64..256..1'
  
  [[BluesFrac]]
  colormap='Blues'
  bounds=['linspace:0.1..1..10']
  colormap_subrange='range:64..256..1'

  [[GreensFrac]]
  colormap='Greens'
  bounds=['linspace:0.1..1..10']
  colormap_subrange='range:64..256..1'

  [[OrangesFrac]]
  colormap='Oranges'
  bounds=['linspace:0.1..1..10']
  colormap_subrange='range:64..256..1'

  [[GreysFrac]]
  colormap='Greys'
  bounds=['linspace:0.1..1..10']
  colormap_subrange='range:64..256..1'

  [[Depth100cm]]
  colormap=['#0f1f97', '#024db2', '#3a6cff', '#05b605', '#dccd07', '#ff9a00', '#ca3133', '#ff02ff', '#c8c8c8', '#000000']
  bounds = [0, 0.5, 1, 2, 5, 8, 10, 20, 30, 50, 100]

  [[OEMTerrain]]
  colormap='terrain'
  # matplotlib terrain colorbar starts with blue (ocean like) colors
  # so trim off the start.
  colormap_subrange='range:50..256..1'
  bounds=[0, 50, 100, 200, 400, 500, 700, 800, 900, 1000, 1500]

